#pragma checksum "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "593715ba47726df9b7b95da45376e0d1711b23cc"
// <auto-generated/>
#pragma warning disable 1591
namespace SaikPOS.Pages.Inventory.PurchaseinvoicePage
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using System.IO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using SaikPOS;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using SaikPOS.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using SaikPOS.Data.Setting;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using SaikPOS.Data.Transaction;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using SaikPOS.Data.ViewModel;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using SaikPOS.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using SaikPOS.Services;

#line default
#line hidden
#nullable disable
#nullable restore
#line 17 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using SaikPOS.Services.Interface;

#line default
#line hidden
#nullable disable
#nullable restore
#line 18 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using SaikPOS.Services.Repository;

#line default
#line hidden
#nullable disable
#nullable restore
#line 19 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using SaikPOS.PdfReport;

#line default
#line hidden
#nullable disable
#nullable restore
#line 20 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using MudBlazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 21 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using Blazored.LocalStorage;

#line default
#line hidden
#nullable disable
#nullable restore
#line 22 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using Blazored.Typeahead;

#line default
#line hidden
#nullable disable
#nullable restore
#line 23 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using SaikPOS.Services.CartService;

#line default
#line hidden
#nullable disable
#nullable restore
#line 24 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using Microsoft.Extensions.Localization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
using System.Net;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
using System.Text;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
using System.Collections.Specialized;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
using Microsoft.Data.SqlClient;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
using Dapper;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
using System.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
using System.Net.Mail;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Components.RouteAttribute("/purchase/purchaseinvoicedetails/{id}")]
    public partial class PurchaseInvoiceDetailsPage : global::Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "div");
            __builder.AddAttribute(1, "class", "content");
            __builder.AddMarkupContent(2, @"<ol class=""breadcrumb""><li><a href=""#""><i class=""pe-7s-home""></i> Home</a></li>
                <li><a href=""#"">purchase</a></li>
                <li class=""active"">Purchase Details</li></ol>
            
                    
                                        <div class=""se-pre-con"" style=""display: none;""></div>
                    
                    
		");
            __builder.OpenElement(3, "div");
            __builder.AddAttribute(4, "class", "row");
            __builder.OpenElement(5, "div");
            __builder.AddAttribute(6, "class", "col-sm-12");
            __builder.OpenElement(7, "div");
            __builder.AddAttribute(8, "class", "panel panel-bd lobidrag");
            __builder.OpenElement(9, "div");
            __builder.AddAttribute(10, "class", "panel-heading");
            __builder.OpenElement(11, "div");
            __builder.AddAttribute(12, "class", "panel-title");
            __builder.AddMarkupContent(13, "<span>Purchase Details</span>\r\n\t\t\t\t\t\t\t");
            __builder.OpenElement(14, "span");
            __builder.AddAttribute(15, "class", "print-button");
            __builder.OpenElement(16, "a");
            __builder.AddAttribute(17, "href", "/purchase/purchaseinvoiceedit/" + (
#nullable restore
#line 37 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                                                            id

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(18, "class", "btn btn-success");
            __builder.AddMarkupContent(19, "<i class=\"fa  fa-edit\"></i> Edit\r\n          ");
            __builder.CloseElement();
            __builder.AddMarkupContent(20, "\r\n          ");
            __builder.OpenElement(21, "a");
            __builder.AddAttribute(22, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 40 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                       ModalShowPay

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(23, "style", "color:#ffffff;");
            __builder.AddAttribute(24, "class", "btn btn-success");
            __builder.AddAttribute(25, "title", "Pop Up");
            __builder.AddMarkupContent(26, "<i class=\"fa fa-money\"></i> Make Payment");
            __builder.CloseElement();
            __builder.AddMarkupContent(27, "\r\n          ");
            __builder.AddMarkupContent(28, "<a onclick=\"printDiv(\'PrintDiv\')\" class=\"btn btn-warning\"><i class=\"fa fa-print\"></i> \r\n            Print\r\n          </a>\r\n          ");
            __builder.OpenElement(29, "a");
            __builder.AddAttribute(30, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 49 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                       SendEmail

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(31, "class", "btn btn-primary");
            __builder.AddMarkupContent(32, "<i class=\"fa fa-credit-card\"></i> \r\n            Email\r\n          ");
            __builder.CloseElement();
            __builder.AddMarkupContent(33, "\r\n          ");
            __builder.AddMarkupContent(34, "<a href=\"/\" class=\"btn btn-danger\"><i class=\"fa  fa-undo\"></i> Back to list\r\n          </a>");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(35, "\r\n\t\t            ");
            __builder.OpenElement(36, "div");
            __builder.AddAttribute(37, "class", "panel-body");
            __builder.AddAttribute(38, "id", "PrintDiv");
            __builder.OpenElement(39, "div");
            __builder.AddAttribute(40, "class", "row purchasedetails-header");
            __builder.OpenElement(41, "div");
            __builder.AddAttribute(42, "class", "col-sm-7 purchasedetails-address");
            __builder.OpenElement(43, "img");
            __builder.AddAttribute(44, "src", 
#nullable restore
#line 65 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                                                                   convertImageToDisplay(companyView.LogoPath)

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(45, "width", "70");
            __builder.AddAttribute(46, "height", "40");
            __builder.AddAttribute(47, "class");
            __builder.AddAttribute(48, "alt");
            __builder.CloseElement();
            __builder.AddMarkupContent(49, "\r\n                                    <br>  <br>\r\n                                      \r\n                                    ");
            __builder.AddMarkupContent(50, "<span class=\"label label-success-outline m-r-15 p-10\">Billing From</span>\r\n                                    ");
            __builder.OpenElement(51, "address");
            __builder.OpenElement(52, "strong");
            __builder.AddAttribute(53, "class", "companyname");
#nullable restore
#line 70 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(54, companyView.CompanyName);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(55, "<br>\r\n                                        ");
#nullable restore
#line 71 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(56, companyView.Address);

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(57, "<br>\r\n                                        ");
            __builder.AddMarkupContent(58, "<abbr><b>Mobile:</b></abbr>");
#nullable restore
#line 72 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(59, companyView.Phone);

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(60, " <br>\r\n                                        ");
            __builder.AddMarkupContent(61, "<abbr><b>Email:</b></abbr> \r\n                                       SaikPOSapps@gmail.com <br>\r\n                                        ");
            __builder.AddMarkupContent(62, "<abbr><b>Website:</b></abbr> \r\n                                       SaikPOSapps.com<br>");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(63, "\r\n                                \r\n                                 \r\n                                ");
            __builder.OpenElement(64, "div");
            __builder.AddAttribute(65, "class", "col-sm-4 text-left invoice-details-billing");
            __builder.AddMarkupContent(66, "<h2 class=\"m-t-0\">Purchase</h2>\r\n                                    ");
            __builder.OpenElement(67, "div");
            __builder.AddContent(68, "Voucher No: ");
#nullable restore
#line 87 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(69, master.VoucherNo);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(70, "\r\n                                    ");
            __builder.OpenElement(71, "div");
            __builder.AddAttribute(72, "class", "m-b-15");
            __builder.AddContent(73, "Billing Date: ");
#nullable restore
#line 88 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(74, master.Date);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(75, "\r\n\r\n                                    ");
            __builder.AddMarkupContent(76, "<span class=\"label label-success-outline m-r-15\">Billing To</span>\r\n\r\n                                    ");
            __builder.OpenElement(77, "address");
            __builder.AddAttribute(78, "class", "details-address");
            __builder.OpenElement(79, "strong");
            __builder.AddAttribute(80, "class", "companyname");
#nullable restore
#line 93 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(81, master.LedgerName);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(82, "<br>");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(83, " \r\n\r\n                          <br>\r\n\r\n\r\n\t\t                ");
            __builder.OpenElement(84, "div");
            __builder.AddAttribute(85, "class", "table-responsive paddin5ps");
            __builder.OpenElement(86, "table");
            __builder.AddAttribute(87, "class", "table table-bordered table-striped table-hover");
            __builder.AddMarkupContent(88, @"<thead><tr><th style=""width:30px;"">S.No</th>
                                <th>Product Name</th>
                                <th>Unit</th>
                                <th class=""text-right"">Qty</th>
                                <th class=""text-right"">Rate</th>
                                <th class=""text-right"">Discount</th>
                                <th class=""text-right"">Total Amount</th></tr></thead>
								");
            __builder.OpenElement(89, "tbody");
#nullable restore
#line 116 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                          
                                int sno = 0;
                            

#line default
#line hidden
#nullable disable
#nullable restore
#line 119 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                             foreach (var td in TodoList)
                            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(90, "tr");
            __builder.AddAttribute(91, "valign", "top");
            __builder.OpenElement(92, "td");
#nullable restore
#line 123 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                          sno++;

#line default
#line hidden
#nullable disable
#nullable restore
#line 124 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(93, sno);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(94, "\r\n                                    ");
            __builder.OpenElement(95, "td");
#nullable restore
#line 127 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(96, td.ProductName);

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(97, "<br>");
            __builder.CloseElement();
            __builder.AddMarkupContent(98, "\r\n                                    ");
            __builder.OpenElement(99, "td");
#nullable restore
#line 130 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(100, td.UnitName);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(101, "\r\n                                    ");
            __builder.OpenElement(102, "td");
            __builder.AddAttribute(103, "align", "right");
#nullable restore
#line 131 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(104, td.Qty);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(105, "\r\n                                    ");
            __builder.OpenElement(106, "td");
            __builder.AddAttribute(107, "class", "text-right");
#nullable restore
#line 132 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(108, td.Rate);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(109, "\r\n                                        ");
            __builder.OpenElement(110, "td");
            __builder.AddAttribute(111, "align", "right");
#nullable restore
#line 133 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(112, td.DiscountAmount);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(113, "\r\n                                    ");
            __builder.OpenElement(114, "td");
            __builder.AddAttribute(115, "align", "right");
#nullable restore
#line 134 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(116, td.TotalAmount);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 136 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                            }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(117, "\r\n\t\t\t\t\t\t\t\t");
            __builder.OpenElement(118, "tfoot");
            __builder.OpenElement(119, "tr");
            __builder.AddMarkupContent(120, "<td class=\"text-right\" colspan=\"6\"><b>Total:</b></td>\r\n\t\t\t\t\t\t\t\t\t\t");
            __builder.OpenElement(121, "td");
            __builder.AddAttribute(122, "class", "text-right");
            __builder.OpenElement(123, "b");
#nullable restore
#line 142 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(124, master.TotalAmount);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(125, "\r\n                                    ");
            __builder.OpenElement(126, "tr");
            __builder.AddMarkupContent(127, "<td class=\"text-right\" colspan=\"6\"><b>Bill Discount:</b></td>\r\n\t\t\t\t\t\t\t\t\t\t");
            __builder.OpenElement(128, "td");
            __builder.AddAttribute(129, "class", "text-right");
            __builder.OpenElement(130, "b");
#nullable restore
#line 146 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(131, master.BillDiscount);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(132, "\r\n                                    ");
            __builder.OpenElement(133, "tr");
            __builder.AddMarkupContent(134, "<td class=\"text-right\" colspan=\"6\"><b>Vat:</b></td>\r\n\t\t\t\t\t\t\t\t\t\t");
            __builder.OpenElement(135, "td");
            __builder.AddAttribute(136, "class", "text-right");
            __builder.OpenElement(137, "b");
#nullable restore
#line 150 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(138, master.TotalTax);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(139, "\r\n\t\t\t\t\t\t\t\t\t \t\t\t\t\t\t\t\t\t");
            __builder.OpenElement(140, "tr");
            __builder.AddMarkupContent(141, "<td class=\"text-right\" colspan=\"6\"><b>Grand Total:</b></td>\r\n\t\t\t\t\t\t\t\t\t\t");
            __builder.OpenElement(142, "td");
            __builder.AddAttribute(143, "class", "text-right");
            __builder.OpenElement(144, "b");
#nullable restore
#line 154 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(145, master.GrandTotal);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(146, "\r\n\t\t\t\t\t\t\t\t\t                               \t\t\t\t\t\t\t\t\t");
            __builder.OpenElement(147, "tr");
            __builder.AddMarkupContent(148, "<td class=\"text-right\" colspan=\"6\"><b>Due Amount:</b></td>\r\n\t\t\t\t\t\t\t\t\t\t");
            __builder.OpenElement(149, "td");
            __builder.AddAttribute(150, "class", "text-right");
            __builder.OpenElement(151, "b");
#nullable restore
#line 158 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(152, balanceDue);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(153, "\r\n                        ");
            __builder.OpenElement(154, "div");
            __builder.AddAttribute(155, "class", "row");
            __builder.OpenElement(156, "div");
            __builder.AddAttribute(157, "class", "col-lg-12");
#nullable restore
#line 165 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(158, master.Narration);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(159, "\r\n\r\n\r\n\r\n                ");
            __builder.OpenElement(160, "div");
            __builder.AddAttribute(161, "class", "row");
            __builder.OpenElement(162, "div");
            __builder.AddAttribute(163, "class", "col-lg-12");
#nullable restore
#line 173 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                         if (listPayment.Count == 0)
                        {

                        }
                        else
                        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(164, "table");
            __builder.AddAttribute(165, "class", "table table-striped b-t");
            __builder.AddMarkupContent(166, @"<thead><tr><th>Voucher No</th>
                                        <th>Voucher Date</th>
                                        <th>Payment Date</th>
                                        <th class=""text-right"">Amount</th></tr></thead>
                                ");
            __builder.OpenElement(167, "tbody");
#nullable restore
#line 189 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                     foreach (var item in listPayment)
                                    {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(168, "tr");
            __builder.OpenElement(169, "td");
#nullable restore
#line 192 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(170, item.VoucherNo);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(171, "\r\n                                            ");
            __builder.OpenElement(172, "td");
#nullable restore
#line 193 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(173, master.Date);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(174, "\r\n                                            ");
            __builder.OpenElement(175, "td");
#nullable restore
#line 194 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(176, item.Date);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(177, "\r\n                                            ");
            __builder.OpenElement(178, "td");
            __builder.AddAttribute(179, "align", "right");
#nullable restore
#line 195 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(180, item.CashAmount);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 197 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(181, "\r\n                                ");
            __builder.OpenElement(182, "tfoot");
            __builder.OpenElement(183, "tr");
            __builder.AddMarkupContent(184, "<td align=\"right\" colspan=\"3\">Total</td>\r\n                                        ");
            __builder.OpenElement(185, "td");
            __builder.AddAttribute(186, "align", "right");
#nullable restore
#line 203 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(187, paymentMade);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 208 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 219 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                     if (showPay)
{


#line default
#line hidden
#nullable disable
            __builder.OpenElement(188, "div");
            __builder.AddAttribute(189, "class", "modal fade modal-success in");
            __builder.AddAttribute(190, "id", "myModal");
            __builder.AddAttribute(191, "style", "display:block");
            __builder.AddAttribute(192, "aria-modal", "true");
            __builder.AddAttribute(193, "role", "dialog");
            __builder.OpenElement(194, "div");
            __builder.AddAttribute(195, "class", "modal-dialog");
            __builder.OpenElement(196, "div");
            __builder.AddAttribute(197, "class", "modal-content");
            __builder.OpenElement(198, "div");
            __builder.AddAttribute(199, "class", "modal-header");
            __builder.AddMarkupContent(200, "<h4 style=\"margin-top:10px;\" class=\"modal-title\">Add Payment</h4>\r\n                    ");
            __builder.OpenElement(201, "button");
            __builder.AddAttribute(202, "type", "button");
            __builder.AddAttribute(203, "class", "close");
            __builder.AddAttribute(204, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 229 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                                                   ModalCancelPay

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(205, "Ã—");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(206, "\r\n\r\n                ");
            __builder.OpenElement(207, "div");
            __builder.AddAttribute(208, "class", "modal-body scroll-y");
            __builder.AddAttribute(209, "style", "max-height:500px;");
            __builder.AddMarkupContent(210, "<div class=\"errorSection\"></div>\r\n                    ");
            __builder.OpenElement(211, "div");
            __builder.AddAttribute(212, "class", "form-group row");
            __builder.AddMarkupContent(213, "<label for=\"customer_name\" class=\"col-sm-4 col-form-label\">Voucher No:<i class=\"text-danger\">*</i></label>\r\n                            ");
            __builder.OpenElement(214, "div");
            __builder.AddAttribute(215, "class", "col-sm-6");
            __builder.OpenElement(216, "input");
            __builder.AddAttribute(217, "class", "form-control");
            __builder.AddAttribute(218, "type", "text");
            __builder.AddAttribute(219, "readonly");
            __builder.AddAttribute(220, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 237 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                                                               payment.VoucherNo

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(221, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => payment.VoucherNo = __value, payment.VoucherNo));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(222, "\r\n                        ");
            __builder.OpenElement(223, "input");
            __builder.AddAttribute(224, "type", "hidden");
            __builder.AddAttribute(225, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 238 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                                    payment.SerialNo

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(226, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => payment.SerialNo = __value, payment.SerialNo));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(227, "\r\n                        ");
            __builder.OpenElement(228, "div");
            __builder.AddAttribute(229, "class", "form-group row");
            __builder.AddMarkupContent(230, "<label for=\"customer_name\" class=\"col-sm-4 col-form-label\">Pay to Supplier:<i class=\"text-danger\">*</i></label>\r\n                            ");
            __builder.OpenElement(231, "div");
            __builder.AddAttribute(232, "class", "col-sm-6");
            __builder.OpenElement(233, "label");
            __builder.AddAttribute(234, "class", "form-control");
#nullable restore
#line 244 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(235, master.LedgerName);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(236, "\r\n                        ");
            __builder.OpenElement(237, "div");
            __builder.AddAttribute(238, "class", "form-group row");
            __builder.AddMarkupContent(239, "<label for=\"customer_name\" class=\"col-sm-4 col-form-label\">Payment Date:<i class=\"text-danger\">*</i></label>\r\n                            ");
            __builder.OpenElement(240, "div");
            __builder.AddAttribute(241, "class", "col-sm-6");
            __builder.OpenElement(242, "input");
            __builder.AddAttribute(243, "class", "form-control");
            __builder.AddAttribute(244, "type", "date");
            __builder.AddAttribute(245, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 250 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                                                               payment.Date

#line default
#line hidden
#nullable disable
            , format: "yyyy-MM-dd", culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.AddAttribute(246, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => payment.Date = __value, payment.Date, format: "yyyy-MM-dd", culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(247, "\r\n                        ");
            __builder.OpenElement(248, "div");
            __builder.AddAttribute(249, "class", "form-group row");
            __builder.AddMarkupContent(250, "<label for=\"customer_name\" class=\"col-sm-4 col-form-label\">Payment Amount:<i class=\"text-danger\">*</i></label>\r\n                            ");
            __builder.OpenElement(251, "div");
            __builder.AddAttribute(252, "class", "col-sm-6");
            __builder.OpenElement(253, "input");
            __builder.AddAttribute(254, "class", "form-control");
            __builder.AddAttribute(255, "type", "number");
            __builder.AddAttribute(256, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 256 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                                                                 payment.TotalAmount

#line default
#line hidden
#nullable disable
            , culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.AddAttribute(257, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => payment.TotalAmount = __value, payment.TotalAmount, culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(258, "\r\n                    ");
            __builder.OpenElement(259, "table");
            __builder.AddAttribute(260, "class", "tabledetails");
            __builder.OpenElement(261, "tr");
            __builder.AddMarkupContent(262, "<td>\r\n                                Cash\r\n                            </td>\r\n                            ");
            __builder.OpenElement(263, "td");
            __builder.OpenElement(264, "select");
            __builder.AddAttribute(265, "class", "form-control");
            __builder.AddAttribute(266, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 265 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                                                    payment.CashId

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(267, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => payment.CashId = __value, payment.CashId));
            __builder.SetUpdatesAttributeName("value");
#nullable restore
#line 266 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                     foreach (var item in listCash)
                                    {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(268, "option");
            __builder.AddAttribute(269, "value", 
#nullable restore
#line 268 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                                        item.LedgerId

#line default
#line hidden
#nullable disable
            );
#nullable restore
#line 268 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(270, item.LedgerName);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
#nullable restore
#line 269 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(271, "\r\n                            ");
            __builder.AddMarkupContent(272, "<td>\r\n                                Amount\r\n\r\n                            </td>\r\n                            ");
            __builder.OpenElement(273, "td");
            __builder.OpenElement(274, "input");
            __builder.AddAttribute(275, "type", "number");
            __builder.AddAttribute(276, "class", "form-control");
            __builder.AddAttribute(277, "onkeyup", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.KeyboardEventArgs>(this, 
#nullable restore
#line 278 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                                                                                                Calculate

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(278, "autocomplete", "off");
            __builder.AddAttribute(279, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 278 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                                            payment.CashAmount

#line default
#line hidden
#nullable disable
            , culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.AddAttribute(280, "oninput", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => payment.CashAmount = __value, payment.CashAmount, culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(281, "\r\n                        <tr></tr>\r\n                        ");
            __builder.OpenElement(282, "tr");
            __builder.AddMarkupContent(283, "<td>\r\n                                Bank / Cheque\r\n                            </td>\r\n                            ");
            __builder.OpenElement(284, "td");
            __builder.OpenElement(285, "select");
            __builder.AddAttribute(286, "class", "form-control");
            __builder.AddAttribute(287, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 289 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                                                    payment.BankId

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(288, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => payment.BankId = __value, payment.BankId));
            __builder.SetUpdatesAttributeName("value");
#nullable restore
#line 290 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                     foreach (var item in listBank)
                                    {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(289, "option");
            __builder.AddAttribute(290, "value", 
#nullable restore
#line 292 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                                        item.LedgerId

#line default
#line hidden
#nullable disable
            );
#nullable restore
#line 292 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
__builder.AddContent(291, item.LedgerName);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
#nullable restore
#line 293 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(292, "\r\n                            ");
            __builder.AddMarkupContent(293, "<td>\r\n                                Amount\r\n                            </td>\r\n                            ");
            __builder.OpenElement(294, "td");
            __builder.OpenElement(295, "input");
            __builder.AddAttribute(296, "type", "number");
            __builder.AddAttribute(297, "class", "form-control");
            __builder.AddAttribute(298, "onkeyup", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.KeyboardEventArgs>(this, 
#nullable restore
#line 300 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                                                                                                Calculate

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(299, "autocomplete", "off");
            __builder.AddAttribute(300, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 300 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                                            payment.BankAmount

#line default
#line hidden
#nullable disable
            , culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.AddAttribute(301, "oninput", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => payment.BankAmount = __value, payment.BankAmount, culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(302, "\r\n                        ");
            __builder.OpenElement(303, "tr");
            __builder.AddMarkupContent(304, "<td>\r\n                                Due Amount\r\n                            </td>\r\n                            ");
            __builder.OpenElement(305, "td");
            __builder.OpenElement(306, "input");
            __builder.AddAttribute(307, "type", "text");
            __builder.AddAttribute(308, "class", "form-control");
            __builder.AddAttribute(309, "onkeyup", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.KeyboardEventArgs>(this, 
#nullable restore
#line 308 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                                                                                                Calculate

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(310, "autocomplete", "off");
            __builder.AddAttribute(311, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 308 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                                          payment.CreditAmount

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(312, "oninput", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => payment.CreditAmount = __value, payment.CreditAmount));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(313, "\r\n                        ");
            __builder.OpenElement(314, "tr");
            __builder.AddMarkupContent(315, "<td>\r\n                                Description\r\n                            </td>\r\n                            ");
            __builder.OpenElement(316, "td");
            __builder.OpenElement(317, "input");
            __builder.AddAttribute(318, "type", "text");
            __builder.AddAttribute(319, "class", "form-control");
            __builder.AddAttribute(320, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 316 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                                          master.Narration

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(321, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => master.Narration = __value, master.Narration));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(322, "\r\n\r\n                ");
            __builder.OpenElement(323, "div");
            __builder.AddAttribute(324, "class", "modal-footer");
            __builder.OpenElement(325, "button");
            __builder.AddAttribute(326, "type", "button");
            __builder.AddAttribute(327, "class", "btn");
            __builder.AddAttribute(328, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 323 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                                                 ModalCancelPay

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(329, "Cancel");
            __builder.CloseElement();
            __builder.AddMarkupContent(330, "\r\n                    ");
            __builder.OpenElement(331, "button");
            __builder.AddAttribute(332, "type", "button");
            __builder.AddAttribute(333, "class", "btn btn-danger");
            __builder.AddAttribute(334, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 324 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
                                                                           OnPay

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(335, "Save");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 330 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
}

#line default
#line hidden
#nullable disable
        }
        #pragma warning restore 1998
#nullable restore
#line 331 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\PurchaseinvoicePage\PurchaseInvoiceDetailsPage.razor"
       
    [Parameter]
    public string id { get; set; }
    InventorySetting setting = new InventorySetting();
    InventorySetting settingPurchase = new InventorySetting();
    PurchaseMasterView master = new PurchaseMasterView();
    List<ProductView> TodoList = new List<ProductView>();
    PaymentMaster payment = new PaymentMaster();
    List<AccountLedger> listCash = new List<AccountLedger>();
    List<AccountLedger> listBank = new List<AccountLedger>();
    List<PaymentMaster> listPayment = new List<PaymentMaster>();
    string billtype;
    long decPurchaseInvoiceVoucherType = 13;
    bool showPay = false;
    bool showModal = false;
    long decPaymenVoucherId = 4;
    string strSerialNo;
    string strPrefix;
    string strSuffix;
    decimal decTotal = 0;
    decimal PreviousDue = 0;
    decimal paymentMade = 0;
    decimal balanceDue = 0;
    Company companyView = new Company();

    //SendMail
    private string Message { get; set; } = "";

    protected async override void OnInitialized()
    {
        settingPurchase = settingRepository.EditInventorySetting(decPurchaseInvoiceVoucherType);
        companyView = company.Edit(1);
        billtype = "Purchase Invoice";
        LoadData();
    }
    private void LoadData()
    {
        master = purchaseInvoiceRepository.PrintPurchaseMasterView(Convert.ToInt64(id));
        TodoList = purchaseInvoiceRepository.PurchaseInvoiceView(Convert.ToInt64(id));
        LoadPaymentShow();
    }
    void ModalShow()
    {
        showModal = true;
    }
    void ModalShowPay()
    {
        payment.Date = DateTime.Now;
        setting = settingRepository.EditInventorySetting(decPaymenVoucherId);
        strPrefix = setting.Prefix;
        strSuffix = setting.Suffix;
        strSerialNo = paymentSupplier.GetPaymentVoucherNo(1, 1, decPaymenVoucherId);
        payment.VoucherNo = strPrefix + strSerialNo + strSuffix;
        payment.SerialNo = strSerialNo;
        listCash = accountLedger.GetCashFill();
        listBank = accountLedger.GetBankFill();
        payment.CashId = 1;
        payment.BankId = 13;
        payment.TotalAmount = Math.Round(master.GrandTotal - paymentMade, 2);
        payment.CashAmount = 0;
        payment.BankAmount = 0;
        payment.CreditAmount = 0;
        payment.Narration = string.Empty;
        showPay = true;
    }
    void ModalCancelPay()
    {
        showPay = false;
    }
    void OnPay()
    {
        if (master.LedgerId == 0)
        {
            Snackbar.Add("Choose Supplier.", Severity.Info);
        }
        else if (payment.VoucherNo == string.Empty)
        {
            Snackbar.Add("Type VoucherNo.", Severity.Info);
        }
        else
        {
            var isCheck = purchaseInvoiceRepository.CheckPymentSupplier(master.VoucherNo, 1, 1, decPaymenVoucherId);
            if (isCheck == true)
            {
                Snackbar.Add("Voucher no already exists.", Severity.Info);
            }
            else
            {
                SqlConnection sqlcon = new SqlConnection(_conn.DbConn);
                sqlcon.Open();
                SqlTransaction sql = sqlcon.BeginTransaction();
                decimal decCredit = payment.CashAmount + payment.BankAmount;

                var paraLedger = new DynamicParameters();
                paraLedger.Add("@SerialNo", strSerialNo);
                paraLedger.Add("@Date", payment.Date);
                paraLedger.Add("@NepaliDate", string.Empty);
                paraLedger.Add("@LedgerId", master.LedgerId);
                paraLedger.Add("@VoucherNo", payment.VoucherNo);
                paraLedger.Add("@SuffixPrefixId", 0);
                paraLedger.Add("@financialYearId", 1);
                paraLedger.Add("@InvoiceNo", payment.VoucherNo);
                paraLedger.Add("@VoucherTypeId", decPaymenVoucherId);
                paraLedger.Add("@CompanyId", 1);
                paraLedger.Add("@DetailsId", master.PurchaseMasterId);
                paraLedger.Add("@CashAmount", payment.CashAmount);
                paraLedger.Add("@BankAmount", payment.BankAmount);
                paraLedger.Add("@CreditAmount", payment.CreditAmount);
                paraLedger.Add("@TotalAmount", payment.TotalAmount);
                paraLedger.Add("@Narration", payment.Narration);
                paraLedger.Add("@UserId", 1);
                paraLedger.Add("@CashId", payment.CashId);
                paraLedger.Add("@BankId", payment.BankId);
                paraLedger.Add("@Optional", "Payment");
                paraLedger.Add("@AddedDate", DateTime.Now);
                paraLedger.Add("@AddedBy", 1);
                paraLedger.Add("@MemOUT", dbType: DbType.Int64, direction: ParameterDirection.Output);
                sqlcon.Execute("PaymentMasterAdd", paraLedger, sql, 0, CommandType.StoredProcedure);
                long MemID = paraLedger.Get<long>("MemOUT");
                //UpdatePurchaseMaster
                decimal decTotalDuess = master.GrandTotal;
                decimal decPaymentAmount = payment.CashAmount + payment.BankAmount;
                var para = new DynamicParameters();
                para.Add("@PurchaseMasterId", master.PurchaseMasterId);
                para.Add("@BalanceDue", payment.CreditAmount);
                para.Add("@CashAmount", payment.CashAmount);
                para.Add("@BankAmount", payment.BankAmount);
                para.Add("@CreditAmount", payment.CreditAmount);
                if (decTotalDuess == decPaymentAmount)
                {
                    para.Add("@Status", "Paid");
                }
                else if (decTotalDuess > decPaymentAmount)
                {
                    para.Add("@Status", "PartialPaid");
                }
                else
                {
                    para.Add("@Status", "Draft");
                }
                sqlcon.Execute("UPDATE PurchaseMaster SET BalanceDue=@BalanceDue,Status=@Status,CashAmount=@CashAmount,BankAmount=@BankAmount,CreditAmount=@CreditAmount where PurchaseMasterId=@PurchaseMasterId", para, sql, 0, CommandType.Text);

                //LedgerPosting
                //Supplier
                decimal decSupplierAmount = payment.BankAmount + payment.CashAmount;
                if (decSupplierAmount > 0)
                {
                    var paraSc = new DynamicParameters();
                    paraSc.Add("@Date", payment.Date);
                    paraSc.Add("@NepaliDate", string.Empty);
                    paraSc.Add("@LedgerId", master.LedgerId);
                    paraSc.Add("@Debit", decSupplierAmount);
                    paraSc.Add("@Credit", 0);
                    paraSc.Add("@VoucherNo", payment.VoucherNo);
                    paraSc.Add("@DetailsId", master.PurchaseMasterId);
                    paraSc.Add("@YearId", 1);
                    paraSc.Add("@InvoiceNo", string.Empty);
                    paraSc.Add("@VoucherTypeId", decPaymenVoucherId);
                    paraSc.Add("@CompanyId", 1);
                    paraSc.Add("@LongReference", payment.Narration);
                    paraSc.Add("@ReferenceN", payment.Narration);
                    paraSc.Add("@ChequeNo", string.Empty);
                    paraSc.Add("@ChequeDate", string.Empty);
                    paraSc.Add("@AddedDate", DateTime.Now);
                    var valueSc = sqlcon.Query<long>("LedgerPostingInsert", paraSc, sql, true, 0, commandType: CommandType.StoredProcedure);
                }

                //Cash
                if (payment.CashAmount > 0)
                {
                    var paraCash = new DynamicParameters();
                    paraCash.Add("@Date", payment.Date);
                    paraCash.Add("@NepaliDate", string.Empty);
                    paraCash.Add("@LedgerId", payment.CashId);
                    paraCash.Add("@Debit", 0);
                    paraCash.Add("@Credit", payment.CashAmount);
                    paraCash.Add("@VoucherNo", payment.VoucherNo);
                    paraCash.Add("@DetailsId", master.PurchaseMasterId);
                    paraCash.Add("@YearId", 1);
                    paraCash.Add("@InvoiceNo", string.Empty);
                    paraCash.Add("@VoucherTypeId", decPaymenVoucherId);
                    paraCash.Add("@CompanyId", 1);
                    paraCash.Add("@LongReference", payment.Narration);
                    paraCash.Add("@ReferenceN", payment.Narration);
                    paraCash.Add("@ChequeNo", string.Empty);
                    paraCash.Add("@ChequeDate", string.Empty);
                    paraCash.Add("@AddedDate", DateTime.Now);
                    var valueCash = sqlcon.Query<long>("LedgerPostingInsert", paraCash, sql, true, 0, commandType: CommandType.StoredProcedure);
                }
                //Bank
                if (payment.BankAmount > 0)
                {
                    var paraBank = new DynamicParameters();
                    paraBank.Add("@Date", payment.Date);
                    paraBank.Add("@NepaliDate", string.Empty);
                    paraBank.Add("@LedgerId", payment.BankId);
                    paraBank.Add("@Debit", 0);
                    paraBank.Add("@Credit", payment.BankAmount);
                    paraBank.Add("@VoucherNo", payment.VoucherNo);
                    paraBank.Add("@DetailsId", master.PurchaseMasterId);
                    paraBank.Add("@YearId", 1);
                    paraBank.Add("@InvoiceNo", string.Empty);
                    paraBank.Add("@VoucherTypeId", decPaymenVoucherId);
                    paraBank.Add("@CompanyId", 1);
                    paraBank.Add("@LongReference", master.Narration);
                    paraBank.Add("@ReferenceN", master.Narration);
                    paraBank.Add("@ChequeNo", string.Empty);
                    paraBank.Add("@ChequeDate", string.Empty);
                    paraBank.Add("@AddedDate", DateTime.Now);
                    var valueBank = sqlcon.Query<long>("LedgerPostingInsert", paraBank, sql, true, 0, commandType: CommandType.StoredProcedure);
                }
                sql.Commit();
                Snackbar.Add("Successfully Saved.", Severity.Info);
                LoadData();
                showPay = false;
            }
        }
    }
    void LoadPaymentShow()
    {
        PaymentMaster paymentmaster = new PaymentMaster();
        decimal decTotalAmount = 0;
        listPayment = purchaseInvoiceRepository.GetPaymentPurchaseView(master.PurchaseMasterId);
        foreach (var item in listPayment)
        {
            decTotalAmount = decTotalAmount + item.CashAmount;
        }
        paymentMade = decTotalAmount;
        balanceDue = master.GrandTotal - paymentMade;
    }
    void ModalCancel()
    {
        showModal = false;
    }
    void Calculate()
    {
        decimal totalAmount = payment.TotalAmount;
        decimal CashAmount = payment.CashAmount;
        decimal BankAmount = payment.BankAmount;
        decimal creditAmount = payment.CreditAmount;
        decimal decGrandTotal = CashAmount + BankAmount;
        if (totalAmount >= decGrandTotal)
        {
            decimal decTotl = Math.Round(totalAmount - decGrandTotal, 2);
            payment.CreditAmount = decTotl;
        }
        else
        {
            payment.CreditAmount = 0;
            payment.CashAmount = 0;
            payment.BankAmount = 0;
        }
    }
    string convertImageToDisplay(byte[] image)
    {
        if (image != null)
        {
            var base64 = Convert.ToBase64String(image);
            var finalStr = string.Format("data:image/jpg;base64,{0}", base64);
            return finalStr;
        }
        return "";
    }
    private void SendEmail()
    {
        try
        {
            using(MailMessage mail = new MailMessage())
            {
                mail.From = new MailAddress("SaikPOSit00@gmail.com");
                mail.To.Add("SaikPOSitsol@gmail.com");
                mail.Subject = "Purchase Invoice";
                mail.Body = "SuppllierName" + master.LedgerName+ "Total Amount" + master.GrandTotal;
                mail.IsBodyHtml = true;
                using(SmtpClient smtp = new SmtpClient("smtp.gmail.com", 587))
                {
                    smtp.Credentials = new System.Net.NetworkCredential("SaikPOSit00@gmail.com.", "1234567890");
                    smtp.EnableSsl = true;
                    smtp.Send(mail);
                    Message = "Mail Sent";
                }

            }
        }
        catch(Exception ex)
        {
            
        }
    }
    private void Print()
    {
        JsRuntime.InvokeVoidAsync("Print");
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ISnackbar Snackbar { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager navManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JsRuntime { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private DatabaseConnection _conn { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IInventorySetting settingRepository { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IAccountLedger accountLedger { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IPaymentSupplier paymentSupplier { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IPurchaseInvoice purchaseInvoiceRepository { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ICompany company { get; set; }
    }
}
#pragma warning restore 1591

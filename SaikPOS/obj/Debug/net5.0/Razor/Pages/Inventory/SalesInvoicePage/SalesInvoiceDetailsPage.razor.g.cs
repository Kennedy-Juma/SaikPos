#pragma checksum "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "4530dae7861f367bc2765f79e051b730fb625478"
// <auto-generated/>
#pragma warning disable 1591
namespace SaikPOS.Pages.Inventory.SalesInvoicePage
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using System.IO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using SaikPOS;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using SaikPOS.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using SaikPOS.Data.Setting;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using SaikPOS.Data.Transaction;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using SaikPOS.Data.ViewModel;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using SaikPOS.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using SaikPOS.Services;

#line default
#line hidden
#nullable disable
#nullable restore
#line 17 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using SaikPOS.Services.Interface;

#line default
#line hidden
#nullable disable
#nullable restore
#line 18 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using SaikPOS.Services.Repository;

#line default
#line hidden
#nullable disable
#nullable restore
#line 19 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using SaikPOS.PdfReport;

#line default
#line hidden
#nullable disable
#nullable restore
#line 20 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using MudBlazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 21 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using Blazored.LocalStorage;

#line default
#line hidden
#nullable disable
#nullable restore
#line 22 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using Blazored.Typeahead;

#line default
#line hidden
#nullable disable
#nullable restore
#line 23 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using SaikPOS.Services.CartService;

#line default
#line hidden
#nullable disable
#nullable restore
#line 24 "E:\Personal Projects\SaikPOS\SaikPOS\_Imports.razor"
using Microsoft.Extensions.Localization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
using System.Net;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
using System.Text;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
using System.Collections.Specialized;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
using Microsoft.Data.SqlClient;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
using Dapper;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
using System.Data;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Components.RouteAttribute("/sales/salesinvoicedetails/{id}")]
    public partial class SalesInvoiceDetailsPage : global::Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "div");
            __builder.AddAttribute(1, "class", "content");
            __builder.AddMarkupContent(2, @"<ol class=""breadcrumb""><li><a href=""#""><i class=""pe-7s-home""></i> Home</a></li>
                <li><a href=""#"">Sales</a></li>
                <li class=""active"">Sales Details</li></ol>
            
                    
                                        <div class=""se-pre-con"" style=""display: none;""></div>
                    
                    
		");
            __builder.OpenElement(3, "div");
            __builder.AddAttribute(4, "class", "row");
            __builder.OpenElement(5, "div");
            __builder.AddAttribute(6, "class", "col-sm-12");
            __builder.OpenElement(7, "div");
            __builder.AddAttribute(8, "class", "panel panel-bd lobidrag");
            __builder.OpenElement(9, "div");
            __builder.AddAttribute(10, "class", "panel-heading");
            __builder.OpenElement(11, "div");
            __builder.AddAttribute(12, "class", "panel-title");
            __builder.AddMarkupContent(13, "<span>Sales Details</span>\r\n\t\t\t\t\t\t\t");
            __builder.OpenElement(14, "span");
            __builder.AddAttribute(15, "class", "print-button");
            __builder.OpenElement(16, "a");
            __builder.AddAttribute(17, "href", "/sales/salesinvoiceedit/" + (
#nullable restore
#line 36 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                                                      id

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(18, "class", "btn btn-success");
            __builder.AddMarkupContent(19, "<i class=\"fa  fa-edit\"></i> Edit\r\n          ");
            __builder.CloseElement();
            __builder.AddMarkupContent(20, "\r\n          ");
            __builder.OpenElement(21, "a");
            __builder.AddAttribute(22, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 39 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                       ModalShowPay

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(23, "style", "color:#ffffff;");
            __builder.AddAttribute(24, "class", "btn btn-success");
            __builder.AddAttribute(25, "title", "Pop Up");
            __builder.AddMarkupContent(26, "<i class=\"fa fa-money\"></i> Payment Received");
            __builder.CloseElement();
            __builder.AddMarkupContent(27, "\r\n          ");
            __builder.AddMarkupContent(28, "<a onclick=\"printDiv(\'PrintDiv\')\" class=\"btn btn-warning\"><i class=\"fa fa-print\"></i> \r\n            Print\r\n          </a>\r\n          ");
            __builder.AddMarkupContent(29, "<a href target=\"_blank\" class=\"btn btn-primary\"><i class=\"fa fa-credit-card\"></i> \r\n            Email\r\n          </a>\r\n          ");
            __builder.AddMarkupContent(30, "<a href=\"/\" class=\"btn btn-danger\"><i class=\"fa  fa-undo\"></i> Back to list\r\n          </a>");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(31, "\r\n\t\t            ");
            __builder.OpenElement(32, "div");
            __builder.AddAttribute(33, "class", "panel-body");
            __builder.AddAttribute(34, "id", "PrintDiv");
            __builder.OpenElement(35, "div");
            __builder.AddAttribute(36, "class", "row purchasedetails-header");
            __builder.OpenElement(37, "div");
            __builder.AddAttribute(38, "class", "col-sm-7 purchasedetails-address");
            __builder.AddMarkupContent(39, "<img src=\"img/logo.png\" class alt height=\"70\" width=\"80\">\r\n                                    <br>  <br>\r\n                                      \r\n                                    ");
            __builder.AddMarkupContent(40, "<span class=\"label label-success-outline m-r-15 p-10\">Billing From</span>\r\n                                    ");
            __builder.OpenElement(41, "address");
            __builder.OpenElement(42, "strong");
            __builder.AddAttribute(43, "class", "companyname");
#nullable restore
#line 68 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(44, companyName);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(45, "<br>\r\n                                        ");
#nullable restore
#line 69 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(46, address);

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(47, "<br>\r\n                                        ");
            __builder.AddMarkupContent(48, "<abbr><b>Mobile:</b></abbr>");
#nullable restore
#line 70 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(49, phone);

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(50, " <br>\r\n                                        ");
            __builder.AddMarkupContent(51, "<abbr><b>Email:</b></abbr> \r\n                                       SaikPOSapps@gmail.com <br>\r\n                                        ");
            __builder.AddMarkupContent(52, "<abbr><b>Website:</b></abbr> \r\n                                       SaikPOSapps.com<br>");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(53, "\r\n                                \r\n                                 \r\n                                ");
            __builder.OpenElement(54, "div");
            __builder.AddAttribute(55, "class", "col-sm-4 text-left invoice-details-billing");
            __builder.AddMarkupContent(56, "<h2 class=\"m-t-0\">Sales</h2>\r\n                                    ");
            __builder.OpenElement(57, "div");
            __builder.AddContent(58, "Voucher No: ");
#nullable restore
#line 85 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(59, master.VoucherNo);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(60, "\r\n                                    ");
            __builder.OpenElement(61, "div");
            __builder.AddAttribute(62, "class", "m-b-15");
            __builder.AddContent(63, "Billing Date: ");
#nullable restore
#line 86 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(64, master.Date);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(65, "\r\n\r\n                                    ");
            __builder.AddMarkupContent(66, "<span class=\"label label-success-outline m-r-15\">Billing To</span>\r\n\r\n                                    ");
            __builder.OpenElement(67, "address");
            __builder.AddAttribute(68, "class", "details-address");
            __builder.OpenElement(69, "strong");
            __builder.AddAttribute(70, "class", "companyname");
#nullable restore
#line 91 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(71, master.LedgerName);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(72, "<br>");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(73, " \r\n\r\n                          <br>\r\n\r\n\r\n\t\t                ");
            __builder.OpenElement(74, "div");
            __builder.AddAttribute(75, "class", "table-responsive paddin5ps");
            __builder.OpenElement(76, "table");
            __builder.AddAttribute(77, "class", "table table-bordered table-striped table-hover");
            __builder.AddMarkupContent(78, @"<thead><tr><th style=""width:30px;"">S.No</th>
                                <th>Product Name</th>
                                <th>Unit</th>
                                <th class=""text-right"">Qty</th>
                                <th class=""text-right"">Rate</th>
                                <th class=""text-right"">Discount</th>
                                <th class=""text-right"">Total Amount</th></tr></thead>
								");
            __builder.OpenElement(79, "tbody");
#nullable restore
#line 114 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                          
                                int sno = 0;
                            

#line default
#line hidden
#nullable disable
#nullable restore
#line 117 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                             foreach (var td in TodoList)
                            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(80, "tr");
            __builder.AddAttribute(81, "valign", "top");
            __builder.OpenElement(82, "td");
#nullable restore
#line 121 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                          sno++;

#line default
#line hidden
#nullable disable
#nullable restore
#line 122 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(83, sno);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(84, "\r\n                                    ");
            __builder.OpenElement(85, "td");
#nullable restore
#line 125 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(86, td.ProductName);

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(87, "<br>");
            __builder.CloseElement();
            __builder.AddMarkupContent(88, "\r\n                                    ");
            __builder.OpenElement(89, "td");
#nullable restore
#line 128 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(90, td.UnitName);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(91, "\r\n                                    ");
            __builder.OpenElement(92, "td");
            __builder.AddAttribute(93, "align", "right");
#nullable restore
#line 129 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(94, td.Qty);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(95, "\r\n                                    ");
            __builder.OpenElement(96, "td");
            __builder.AddAttribute(97, "class", "text-right");
#nullable restore
#line 130 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(98, td.Rate);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(99, "\r\n                                        ");
            __builder.OpenElement(100, "td");
            __builder.AddAttribute(101, "align", "right");
#nullable restore
#line 131 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(102, td.DiscountAmount);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(103, "\r\n                                    ");
            __builder.OpenElement(104, "td");
            __builder.AddAttribute(105, "align", "right");
#nullable restore
#line 132 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(106, td.TotalAmount);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 134 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                            }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(107, "\r\n\t\t\t\t\t\t\t\t");
            __builder.OpenElement(108, "tfoot");
            __builder.OpenElement(109, "tr");
            __builder.AddMarkupContent(110, "<td class=\"text-right\" colspan=\"6\"><b>Total:</b></td>\r\n\t\t\t\t\t\t\t\t\t\t");
            __builder.OpenElement(111, "td");
            __builder.AddAttribute(112, "class", "text-right");
            __builder.OpenElement(113, "b");
#nullable restore
#line 140 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(114, master.TotalAmount);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(115, "\r\n                                    ");
            __builder.OpenElement(116, "tr");
            __builder.AddMarkupContent(117, "<td class=\"text-right\" colspan=\"6\"><b>Bill Discount:</b></td>\r\n\t\t\t\t\t\t\t\t\t\t");
            __builder.OpenElement(118, "td");
            __builder.AddAttribute(119, "class", "text-right");
            __builder.OpenElement(120, "b");
#nullable restore
#line 144 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(121, master.BillDiscount);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(122, "\r\n                                    ");
            __builder.OpenElement(123, "tr");
            __builder.AddMarkupContent(124, "<td class=\"text-right\" colspan=\"6\"><b>Vat:</b></td>\r\n\t\t\t\t\t\t\t\t\t\t");
            __builder.OpenElement(125, "td");
            __builder.AddAttribute(126, "class", "text-right");
            __builder.OpenElement(127, "b");
#nullable restore
#line 148 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(128, master.TotalTax);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(129, "\r\n\t\t\t\t\t\t\t\t\t \t\t\t\t\t\t\t\t\t");
            __builder.OpenElement(130, "tr");
            __builder.AddMarkupContent(131, "<td class=\"text-right\" colspan=\"6\"><b>Grand Total:</b></td>\r\n\t\t\t\t\t\t\t\t\t\t");
            __builder.OpenElement(132, "td");
            __builder.AddAttribute(133, "class", "text-right");
            __builder.OpenElement(134, "b");
#nullable restore
#line 152 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(135, master.GrandTotal);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(136, "\r\n\t\t\t\t\t\t\t\t\t                               \t\t\t\t\t\t\t\t\t");
            __builder.OpenElement(137, "tr");
            __builder.AddMarkupContent(138, "<td class=\"text-right\" colspan=\"6\"><b>Due Amount:</b></td>\r\n\t\t\t\t\t\t\t\t\t\t");
            __builder.OpenElement(139, "td");
            __builder.AddAttribute(140, "class", "text-right");
            __builder.OpenElement(141, "b");
#nullable restore
#line 156 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(142, balanceDue);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(143, "\r\n                        ");
            __builder.OpenElement(144, "div");
            __builder.AddAttribute(145, "class", "row");
            __builder.OpenElement(146, "div");
            __builder.AddAttribute(147, "class", "col-lg-12");
#nullable restore
#line 163 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(148, master.Narration);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(149, "\r\n\r\n\r\n\r\n                ");
            __builder.OpenElement(150, "div");
            __builder.AddAttribute(151, "class", "row");
            __builder.OpenElement(152, "div");
            __builder.AddAttribute(153, "class", "col-lg-12");
#nullable restore
#line 171 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                         if (listPayment.Count == 0)
                        {

                        }
                        else
                        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(154, "table");
            __builder.AddAttribute(155, "class", "table table-striped b-t");
            __builder.AddMarkupContent(156, @"<thead><tr><th>Voucher No</th>
                                        <th>Voucher Date</th>
                                        <th>Payment Date</th>
                                        <th class=""text-right"">Amount</th></tr></thead>
                                ");
            __builder.OpenElement(157, "tbody");
#nullable restore
#line 187 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                     foreach (var item in listPayment)
                                    {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(158, "tr");
            __builder.OpenElement(159, "td");
#nullable restore
#line 190 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(160, item.VoucherNo);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(161, "\r\n                                            ");
            __builder.OpenElement(162, "td");
#nullable restore
#line 191 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(163, master.Date);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(164, "\r\n                                            ");
            __builder.OpenElement(165, "td");
#nullable restore
#line 192 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(166, item.Date);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(167, "\r\n                                            ");
            __builder.OpenElement(168, "td");
            __builder.AddAttribute(169, "align", "right");
#nullable restore
#line 193 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(170, item.CashAmount);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 195 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(171, "\r\n                                ");
            __builder.OpenElement(172, "tfoot");
            __builder.OpenElement(173, "tr");
            __builder.AddMarkupContent(174, "<td align=\"right\" colspan=\"3\">Total</td>\r\n                                        ");
            __builder.OpenElement(175, "td");
            __builder.AddAttribute(176, "align", "right");
#nullable restore
#line 201 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(177, paymentMade);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 206 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 217 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                     if (showPay)
{


#line default
#line hidden
#nullable disable
            __builder.OpenElement(178, "div");
            __builder.AddAttribute(179, "class", "modal fade modal-success in");
            __builder.AddAttribute(180, "id", "myModal");
            __builder.AddAttribute(181, "style", "display:block");
            __builder.AddAttribute(182, "aria-modal", "true");
            __builder.AddAttribute(183, "role", "dialog");
            __builder.OpenElement(184, "div");
            __builder.AddAttribute(185, "class", "modal-dialog");
            __builder.OpenElement(186, "div");
            __builder.AddAttribute(187, "class", "modal-content");
            __builder.OpenElement(188, "div");
            __builder.AddAttribute(189, "class", "modal-header");
            __builder.AddMarkupContent(190, "<h4 style=\"margin-top:10px;\" class=\"modal-title\">Payment Receive</h4>\r\n                    ");
            __builder.OpenElement(191, "button");
            __builder.AddAttribute(192, "type", "button");
            __builder.AddAttribute(193, "class", "close");
            __builder.AddAttribute(194, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 227 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                                                   ModalCancelPay

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(195, "Ã—");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(196, "\r\n\r\n                ");
            __builder.OpenElement(197, "div");
            __builder.AddAttribute(198, "class", "modal-body scroll-y");
            __builder.AddAttribute(199, "style", "max-height:500px;");
            __builder.AddMarkupContent(200, "<div class=\"errorSection\"></div>\r\n                    ");
            __builder.OpenElement(201, "div");
            __builder.AddAttribute(202, "class", "form-group row");
            __builder.AddMarkupContent(203, "<label for=\"customer_name\" class=\"col-sm-4 col-form-label\">Voucher No:<i class=\"text-danger\">*</i></label>\r\n                            ");
            __builder.OpenElement(204, "div");
            __builder.AddAttribute(205, "class", "col-sm-6");
            __builder.OpenElement(206, "input");
            __builder.AddAttribute(207, "class", "form-control");
            __builder.AddAttribute(208, "type", "text");
            __builder.AddAttribute(209, "readonly");
            __builder.AddAttribute(210, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 235 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                                                               payment.VoucherNo

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(211, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => payment.VoucherNo = __value, payment.VoucherNo));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(212, "\r\n                        ");
            __builder.OpenElement(213, "input");
            __builder.AddAttribute(214, "type", "hidden");
            __builder.AddAttribute(215, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 236 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                                    payment.SerialNo

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(216, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => payment.SerialNo = __value, payment.SerialNo));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(217, "\r\n                        ");
            __builder.OpenElement(218, "div");
            __builder.AddAttribute(219, "class", "form-group row");
            __builder.AddMarkupContent(220, "<label for=\"customer_name\" class=\"col-sm-4 col-form-label\">Customer:<i class=\"text-danger\">*</i></label>\r\n                            ");
            __builder.OpenElement(221, "div");
            __builder.AddAttribute(222, "class", "col-sm-6");
            __builder.OpenElement(223, "label");
            __builder.AddAttribute(224, "class", "form-control");
#nullable restore
#line 242 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(225, master.LedgerName);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(226, "\r\n                        ");
            __builder.OpenElement(227, "div");
            __builder.AddAttribute(228, "class", "form-group row");
            __builder.AddMarkupContent(229, "<label for=\"customer_name\" class=\"col-sm-4 col-form-label\">Receive Date:<i class=\"text-danger\">*</i></label>\r\n                            ");
            __builder.OpenElement(230, "div");
            __builder.AddAttribute(231, "class", "col-sm-6");
            __builder.OpenElement(232, "input");
            __builder.AddAttribute(233, "class", "form-control");
            __builder.AddAttribute(234, "type", "date");
            __builder.AddAttribute(235, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 248 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                                                               payment.Date

#line default
#line hidden
#nullable disable
            , format: "yyyy-MM-dd", culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.AddAttribute(236, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => payment.Date = __value, payment.Date, format: "yyyy-MM-dd", culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(237, "\r\n                        ");
            __builder.OpenElement(238, "div");
            __builder.AddAttribute(239, "class", "form-group row");
            __builder.AddMarkupContent(240, "<label for=\"customer_name\" class=\"col-sm-4 col-form-label\">Receive Amount:<i class=\"text-danger\">*</i></label>\r\n                            ");
            __builder.OpenElement(241, "div");
            __builder.AddAttribute(242, "class", "col-sm-6");
            __builder.OpenElement(243, "input");
            __builder.AddAttribute(244, "class", "form-control");
            __builder.AddAttribute(245, "type", "number");
            __builder.AddAttribute(246, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 254 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                                                                 payment.TotalAmount

#line default
#line hidden
#nullable disable
            , culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.AddAttribute(247, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => payment.TotalAmount = __value, payment.TotalAmount, culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(248, "\r\n                    ");
            __builder.OpenElement(249, "table");
            __builder.AddAttribute(250, "class", "tabledetails");
            __builder.OpenElement(251, "tr");
            __builder.AddMarkupContent(252, "<td>\r\n                                Cash\r\n                            </td>\r\n                            ");
            __builder.OpenElement(253, "td");
            __builder.OpenElement(254, "select");
            __builder.AddAttribute(255, "class", "form-control");
            __builder.AddAttribute(256, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 263 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                                                    payment.CashId

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(257, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => payment.CashId = __value, payment.CashId));
            __builder.SetUpdatesAttributeName("value");
#nullable restore
#line 264 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                     foreach (var item in listCash)
                                    {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(258, "option");
            __builder.AddAttribute(259, "value", 
#nullable restore
#line 266 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                                        item.LedgerId

#line default
#line hidden
#nullable disable
            );
#nullable restore
#line 266 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(260, item.LedgerName);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
#nullable restore
#line 267 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(261, "\r\n                            ");
            __builder.AddMarkupContent(262, "<td>\r\n                                Amount\r\n\r\n                            </td>\r\n                            ");
            __builder.OpenElement(263, "td");
            __builder.OpenElement(264, "input");
            __builder.AddAttribute(265, "type", "number");
            __builder.AddAttribute(266, "class", "form-control");
            __builder.AddAttribute(267, "onkeyup", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.KeyboardEventArgs>(this, 
#nullable restore
#line 276 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                                                                                                Calculate

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(268, "autocomplete", "off");
            __builder.AddAttribute(269, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 276 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                                            payment.CashAmount

#line default
#line hidden
#nullable disable
            , culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.AddAttribute(270, "oninput", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => payment.CashAmount = __value, payment.CashAmount, culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(271, "\r\n                        <tr></tr>\r\n                        ");
            __builder.OpenElement(272, "tr");
            __builder.AddMarkupContent(273, "<td>\r\n                                Bank / Cheque\r\n                            </td>\r\n                            ");
            __builder.OpenElement(274, "td");
            __builder.OpenElement(275, "select");
            __builder.AddAttribute(276, "class", "form-control");
            __builder.AddAttribute(277, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 287 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                                                    payment.BankId

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(278, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => payment.BankId = __value, payment.BankId));
            __builder.SetUpdatesAttributeName("value");
#nullable restore
#line 288 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                     foreach (var item in listBank)
                                    {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(279, "option");
            __builder.AddAttribute(280, "value", 
#nullable restore
#line 290 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                                        item.LedgerId

#line default
#line hidden
#nullable disable
            );
#nullable restore
#line 290 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
__builder.AddContent(281, item.LedgerName);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
#nullable restore
#line 291 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(282, "\r\n                            ");
            __builder.AddMarkupContent(283, "<td>\r\n                                Amount\r\n                            </td>\r\n                            ");
            __builder.OpenElement(284, "td");
            __builder.OpenElement(285, "input");
            __builder.AddAttribute(286, "type", "number");
            __builder.AddAttribute(287, "class", "form-control");
            __builder.AddAttribute(288, "onkeyup", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.KeyboardEventArgs>(this, 
#nullable restore
#line 298 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                                                                                                Calculate

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(289, "autocomplete", "off");
            __builder.AddAttribute(290, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 298 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                                            payment.BankAmount

#line default
#line hidden
#nullable disable
            , culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.AddAttribute(291, "oninput", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => payment.BankAmount = __value, payment.BankAmount, culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(292, "\r\n                        ");
            __builder.OpenElement(293, "tr");
            __builder.AddMarkupContent(294, "<td>\r\n                                Due Amount\r\n                            </td>\r\n                            ");
            __builder.OpenElement(295, "td");
            __builder.OpenElement(296, "input");
            __builder.AddAttribute(297, "type", "text");
            __builder.AddAttribute(298, "class", "form-control");
            __builder.AddAttribute(299, "onkeyup", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.KeyboardEventArgs>(this, 
#nullable restore
#line 306 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                                                                                                Calculate

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(300, "autocomplete", "off");
            __builder.AddAttribute(301, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 306 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                                          payment.CreditAmount

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(302, "oninput", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => payment.CreditAmount = __value, payment.CreditAmount));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(303, "\r\n                        ");
            __builder.OpenElement(304, "tr");
            __builder.AddMarkupContent(305, "<td>\r\n                                Description\r\n                            </td>\r\n                            ");
            __builder.OpenElement(306, "td");
            __builder.OpenElement(307, "input");
            __builder.AddAttribute(308, "type", "text");
            __builder.AddAttribute(309, "class", "form-control");
            __builder.AddAttribute(310, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 314 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                                          master.Narration

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(311, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => master.Narration = __value, master.Narration));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(312, "\r\n\r\n                ");
            __builder.OpenElement(313, "div");
            __builder.AddAttribute(314, "class", "modal-footer");
            __builder.OpenElement(315, "button");
            __builder.AddAttribute(316, "type", "button");
            __builder.AddAttribute(317, "class", "btn");
            __builder.AddAttribute(318, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 321 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                                                 ModalCancelPay

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(319, "Cancel");
            __builder.CloseElement();
            __builder.AddMarkupContent(320, "\r\n                    ");
            __builder.OpenElement(321, "button");
            __builder.AddAttribute(322, "type", "button");
            __builder.AddAttribute(323, "class", "btn btn-danger");
            __builder.AddAttribute(324, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 322 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
                                                                           OnPay

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(325, "Save");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 328 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
}

#line default
#line hidden
#nullable disable
        }
        #pragma warning restore 1998
#nullable restore
#line 329 "E:\Personal Projects\SaikPOS\SaikPOS\Pages\Inventory\SalesInvoicePage\SalesInvoiceDetailsPage.razor"
       
    [Parameter]
    public string id { get; set; }
    InventorySetting setting = new InventorySetting();
    SalesMasterView master = new SalesMasterView();
    List<ProductView> TodoList = new List<ProductView>();
    ReceiptMaster payment = new ReceiptMaster();
    List<AccountLedger> listCash = new List<AccountLedger>();
    List<AccountLedger> listBank = new List<AccountLedger>();
    List<ReceiptMaster> listPayment = new List<ReceiptMaster>();
    string billtype;
    long decVouchertypeIdSalesInvoice = 19;
    long decVoucherReceiveId = 5;
    bool showPay = false;
    bool showModal = false;
    string strSerialNo;
    string strPrefix;
    string strSuffix;
    decimal decTotal = 0;
    decimal PreviousDue = 0;
    decimal paymentMade = 0;
    decimal balanceDue = 0;
    string companyName;
    string address;
    string phone;

    protected async override void OnInitialized()
    {
        var resultCompany = company.Edit(1);
        companyName = resultCompany.CompanyName;
        address = resultCompany.Address;
        phone = resultCompany.Phone;
        billtype = "Sales Invoice";
        LoadData();
    }
    private void LoadData()
    {
        master = salesInvoice.SalesMasterPrint(Convert.ToInt64(id));
        TodoList = salesInvoice.SalesDetailsPrint(Convert.ToInt64(id));
        LoadPaymentShow();
    }
    void ModalShow()
    {
        showModal = true;
    }
    void ModalShowPay()
    {
        payment.Date = DateTime.Now;
        strSerialNo = receiveCustomer.GetReceiveVoucherNo(1, 1, decVoucherReceiveId);
        payment.VoucherNo = strPrefix + strSerialNo + strSuffix;
        payment.SerialNo = strSerialNo;
        listCash = accountLedger.GetCashFill();
        listBank = accountLedger.GetBankFill();
        payment.CashId = 1;
        payment.BankId = 13;
        payment.TotalAmount = Math.Round(master.GrandTotal - paymentMade, 2);
        payment.CashAmount = 0;
        payment.BankAmount = 0;
        payment.CreditAmount = 0;
        payment.Narration = string.Empty;
        showPay = true;
    }
    void ModalCancelPay()
    {
        showPay = false;
    }
    void OnPay()
    {
        if (master.LedgerId == 0)
        {
            Snackbar.Add("Choose Supplier.", Severity.Info);
        }
        else if (payment.VoucherNo == string.Empty)
        {
            Snackbar.Add("Type VoucherNo.", Severity.Info);
        }
        else
        {
            var isCheck = receiveCustomer.CheckReceiveCustomer(master.VoucherNo, 1, 1, decVoucherReceiveId);
            if (isCheck == true)
            {
                Snackbar.Add("Voucher no already exists.", Severity.Info);
            }
            else
            {
                SqlConnection sqlcon = new SqlConnection(_conn.DbConn);
                sqlcon.Open();
                SqlTransaction sql = sqlcon.BeginTransaction();
                decimal decCredit = payment.CashAmount + payment.BankAmount;

                var paraLedger = new DynamicParameters();
                paraLedger.Add("@SerialNo", strSerialNo);
                paraLedger.Add("@Date", payment.Date);
                paraLedger.Add("@NepaliDate", payment.NepaliDate);
                paraLedger.Add("@LedgerId", master.LedgerId);
                paraLedger.Add("@VoucherNo", payment.VoucherNo);
                paraLedger.Add("@SuffixPrefixId", 0);
                paraLedger.Add("@financialYearId", 1);
                paraLedger.Add("@InvoiceNo", payment.VoucherNo);
                paraLedger.Add("@VoucherTypeId", decVoucherReceiveId);
                paraLedger.Add("@CompanyId", 1);
                paraLedger.Add("@DetailsId", master.SalesMasterId);
                paraLedger.Add("@CashAmount", payment.CashAmount);
                paraLedger.Add("@BankAmount", payment.BankAmount);
                paraLedger.Add("@CreditAmount", payment.CreditAmount);
                paraLedger.Add("@TotalAmount", decCredit);
                paraLedger.Add("@Narration", payment.Narration);
                paraLedger.Add("@UserId", 1);
                paraLedger.Add("@CashId", payment.CashId);
                paraLedger.Add("@BankId", payment.BankId);
                paraLedger.Add("@Optional", "Receive");
                paraLedger.Add("@AddedDate", DateTime.Now);
                paraLedger.Add("@MemOUT", dbType: DbType.Int64, direction: ParameterDirection.Output);
                sqlcon.Execute("ReceiptMasterAdd", paraLedger, sql, 0, CommandType.StoredProcedure);
                long MemID = paraLedger.Get<long>("MemOUT");
                //UpdatePurchaseMaster
                decimal decTotalDuess = master.GrandTotal;
                decimal decPaymentAmount = payment.CashAmount + payment.BankAmount;
                var para = new DynamicParameters();
                para.Add("@SalesMasterId", master.SalesMasterId);
                para.Add("@BalanceDue", payment.CreditAmount);
                para.Add("@CashAmount", payment.CashAmount);
                para.Add("@BankAmount", payment.BankAmount);
                para.Add("@CreditAmount", payment.CreditAmount);
                if (decTotalDuess == decPaymentAmount)
                {
                    para.Add("@Status", "Paid");
                }
                else if (decTotalDuess > decPaymentAmount)
                {
                    para.Add("@Status", "PartialPaid");
                }
                else
                {
                    para.Add("@Status", "Draft");
                }
                sqlcon.Execute("UPDATE SalesMaster SET BalanceDue=@BalanceDue,Status=@Status,CashAmount=@CashAmount,CreditAmount=@CreditAmount,BankAmount=@BankAmount where SalesMasterId=@SalesMasterId", para, sql, 0, CommandType.Text);

                //LedgerPosting
                //Supplier
                decimal decSupplierAmount = payment.BankAmount + payment.CashAmount;
                if (decSupplierAmount > 0)
                {
                    var paraSc = new DynamicParameters();
                    paraSc.Add("@Date", payment.Date);
                    paraSc.Add("@NepaliDate", payment.NepaliDate);
                    paraSc.Add("@LedgerId", master.LedgerId);
                    paraSc.Add("@Debit", 0);
                    paraSc.Add("@Credit", decSupplierAmount);
                    paraSc.Add("@VoucherNo", payment.VoucherNo);
                    paraSc.Add("@DetailsId", master.SalesMasterId);
                    paraSc.Add("@YearId", 1);
                    paraSc.Add("@InvoiceNo", string.Empty);
                    paraSc.Add("@VoucherTypeId", decVoucherReceiveId);
                    paraSc.Add("@CompanyId", 1);
                    paraSc.Add("@LongReference", payment.Narration);
                    paraSc.Add("@ReferenceN", payment.Narration);
                    paraSc.Add("@ChequeNo", string.Empty);
                    paraSc.Add("@ChequeDate", string.Empty);
                    paraSc.Add("@AddedDate", DateTime.Now);
                    var valueSc = sqlcon.Query<long>("LedgerPostingInsert", paraSc, sql, true, 0, commandType: CommandType.StoredProcedure);
                }

                //Cash
                if (payment.CashAmount > 0)
                {
                    var paraCash = new DynamicParameters();
                    paraCash.Add("@Date", payment.Date);
                    paraCash.Add("@NepaliDate", payment.NepaliDate);
                    paraCash.Add("@LedgerId", payment.CashId);
                    paraCash.Add("@Debit", payment.CashAmount);
                    paraCash.Add("@Credit", 0);
                    paraCash.Add("@VoucherNo", payment.VoucherNo);
                    paraCash.Add("@DetailsId", master.SalesMasterId);
                    paraCash.Add("@YearId", 1);
                    paraCash.Add("@InvoiceNo", string.Empty);
                    paraCash.Add("@VoucherTypeId", decVoucherReceiveId);
                    paraCash.Add("@CompanyId", 1);
                    paraCash.Add("@LongReference", payment.Narration);
                    paraCash.Add("@ReferenceN", payment.Narration);
                    paraCash.Add("@ChequeNo", string.Empty);
                    paraCash.Add("@ChequeDate", string.Empty);
                    paraCash.Add("@AddedDate", DateTime.Now);
                    var valueCash = sqlcon.Query<long>("LedgerPostingInsert", paraCash, sql, true, 0, commandType: CommandType.StoredProcedure);
                }
                //Bank
                if (payment.BankAmount > 0)
                {
                    var paraBank = new DynamicParameters();
                    paraBank.Add("@Date", payment.Date);
                    paraBank.Add("@NepaliDate", payment.NepaliDate);
                    paraBank.Add("@LedgerId", payment.BankId);
                    paraBank.Add("@Debit", payment.BankAmount);
                    paraBank.Add("@Credit", 0);
                    paraBank.Add("@VoucherNo", payment.VoucherNo);
                    paraBank.Add("@DetailsId", master.SalesMasterId);
                    paraBank.Add("@YearId", 1);
                    paraBank.Add("@InvoiceNo", string.Empty);
                    paraBank.Add("@VoucherTypeId", decVoucherReceiveId);
                    paraBank.Add("@CompanyId", 1);
                    paraBank.Add("@LongReference", master.Narration);
                    paraBank.Add("@ReferenceN", master.Narration);
                    paraBank.Add("@ChequeNo", string.Empty);
                    paraBank.Add("@ChequeDate", string.Empty);
                    paraBank.Add("@AddedDate", DateTime.Now);
                    var valueBank = sqlcon.Query<long>("LedgerPostingInsert", paraBank, sql, true, 0, commandType: CommandType.StoredProcedure);
                }
                sql.Commit();
                Snackbar.Add("Successfully Saved.", Severity.Success);
                LoadData();
                showPay = false;
            }
        }
    }
    void LoadPaymentShow()
    {
        SalesMaster paymentmaster = new SalesMaster();
        decimal decTotalAmount = 0;
        listPayment = receiveCustomer.GetReceiptMasterView(master.SalesMasterId);
        foreach (var item in listPayment)
        {
            decTotalAmount = decTotalAmount + item.CashAmount;
        }
        paymentMade = decTotalAmount;
        balanceDue = master.GrandTotal - paymentMade;
    }
    void ModalCancel()
    {
        showModal = false;
    }
    void Calculate()
    {
        decimal totalAmount = payment.TotalAmount;
        decimal CashAmount = payment.CashAmount;
        decimal BankAmount = payment.BankAmount;
        decimal creditAmount = payment.CreditAmount;
        decimal decGrandTotal = CashAmount + BankAmount;
        if (totalAmount >= decGrandTotal)
        {
            decimal decTotl = Math.Round(totalAmount - decGrandTotal, 2);
            payment.CreditAmount = decTotl;
        }
        else
        {
            payment.CreditAmount = 0;
            payment.CashAmount = 0;
            payment.BankAmount = 0;
        }
    }
    private void Print()
    {
        JsRuntime.InvokeVoidAsync("Print");
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ISnackbar Snackbar { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager navManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JsRuntime { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private DatabaseConnection _conn { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IInventorySetting settingRepository { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IAccountLedger accountLedger { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IReceiveCustomer receiveCustomer { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ISalesInvoice salesInvoice { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ICompany company { get; set; }
    }
}
#pragma warning restore 1591
